# AI-Powered Book Recommendations for School District

An AI-powered book recommendation system that helps librarians provide personalized reading suggestions to students based on their borrowing history.

## Overview

This project solves the problem of librarians relying on memory-based book recommendations by creating a data-driven system that:
- Analyzes complete borrowing history and book catalog data
- Uses AI embeddings to understand book content semantically
- Provides personalized recommendations with AI-generated explanations
- Scales beyond individual librarian knowledge

## System Architecture

### Offline Processing Pipeline
- **Data Sources**: Electronic card catalog (book metadata) and book rental history
- **Embedding Generation**: Content embeddings via Sentence-Transformers, collaborative filtering via SVD
- **Data Indexing**: All metadata and embeddings stored in OpenSearch for vector similarity search

### Online Application
- **Frontend**: Streamlit web interface for librarians and students
- **Backend**: Vector similarity search in OpenSearch + real-time LLM explanations via AWS Bedrock

## Project Structure

```
read-to-succeed/
├── data/
│   ├── book_catalog.csv      # Sample book metadata
│   └── rental_history.csv    # Sample borrowing records
├── src/
│   └── process_data.py       # Offline data processing script
├── app.py                    # Streamlit web application
├── docker-compose.yml        # OpenSearch local setup
├── requirements.txt          # Python dependencies
├── .env.example             # Environment variables template
└── README.md
```

## Prerequisites

- AWS account with Bedrock access (for LLM API)
- Python 3.8+
- Docker (for local OpenSearch)

## Setup Instructions

### 1. Environment Setup

```bash
# Create virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt
```

### 2. OpenSearch Setup

**Option A: Local Docker (Recommended for development)**
```bash
# Start OpenSearch and Dashboard
docker-compose up -d

# Access OpenSearch Dashboard at http://localhost:5601
```

**Option B: AWS Managed OpenSearch**
- Set up OpenSearch domain in AWS
- Configure appropriate IAM permissions

### 3. Configuration

1. Copy `.env.example` to `.env`
2. Configure your environment:

```bash
# For local Docker setup:
OPENSEARCH_HOST=localhost
OPENSEARCH_PORT=9200
OPENSEARCH_USE_SSL=false

# For AWS managed OpenSearch:
# OPENSEARCH_HOST=your-domain.us-east-2.es.amazonaws.com
# OPENSEARCH_USE_SSL=true

# AWS Bedrock Configuration
AWS_REGION=us-east-2
AWS_ACCESS_KEY_ID=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key
```

### 4. Data Processing

Generate embeddings and index books in OpenSearch:

```bash
python src/process_data.py
```

### 5. Run the Application

```bash
streamlit run app.py
```

Access the app at http://localhost:8501

## Usage

1. Enter a student ID (e.g., `student_001`)
2. View their recent reading history
3. Get personalized recommendations with AI-generated explanations like:
   - "Because you liked the magical school setting in Harry Potter, you might enjoy The Name of the Wind."

## Technical Features

- **Hybrid Recommendation System**: Combines content-based and collaborative filtering
- **Rich Content Understanding**: Sentence-Transformer embeddings capture semantic meaning
- **Explainable AI**: Custom recommendation snippets generated by Claude via Bedrock
- **Vector Search**: Fast similarity search using OpenSearch k-NN capabilities
- **Scalable Architecture**: Offline processing + online serving for real-time responses

## Sample Data

Includes sample data with 16 popular books and borrowing history for 10 students, featuring classics like Harry Potter, The Hobbit, and Wonder.

## Implementation Notes

- Uses OpenSearch instead of Elasticsearch for better licensing and AWS integration
- Supports both local Docker and AWS managed OpenSearch deployments
- Implements proper error handling and connection management
- Uses Claude 3 Haiku for cost-effective, fast recommendation generation